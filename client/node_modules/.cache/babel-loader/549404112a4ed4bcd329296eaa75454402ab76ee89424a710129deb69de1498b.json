{"ast":null,"code":"var _jsxFileName = \"E:\\\\code5200\\\\mini\\\\client\\\\src\\\\pages\\\\User.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport Edit from \"../img/edit.png\";\nimport Delete from \"../img/delete.png\";\nimport { Link, useParams, useNavigate, useLocation } from 'react-router-dom';\nimport Menu from '../components/Menu';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { AuthContext } from '../context/authContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst User = () => {\n  _s();\n  const location = useLocation();\n  const [user, setUser] = useState({});\n  const navigate = useNavigate();\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const username = location.pathname.split(\"/\")[2];\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const res = await axios.get(`http://localhost:8800/api/users/${username}`);\n        setUser(res.data);\n      } catch (err) {\n        console.error(err);\n        // Redirect or handle error\n      }\n    };\n\n    fetchUser();\n  }, [username]);\n  const getText = html => {\n    const doc = new DOMParser().parseFromString(html, \"text/html\");\n    return doc.body.textContent;\n  };\n\n  // console.log(currentUser);\n  const {\n    userDetails,\n    userProducts\n  } = user;\n  console.log(user);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this); // or any other loading indicator\n  }\n\n  return (\n    /*#__PURE__*/\n    // <div className='user_page'>\n    //   <div className=\"content\">\n    //     <div className='user_info'>\n    //         <span>NUID : {userDetails.user_id}</span>\n    //         <h1>\n    //           USER : {currentUser.user_id === userDetails.user_id ? userDetails.user_name : userDetails.nickname}\n    //         </h1>\n    //         <p>Spent {moment(userDetails.create_time).fromNow()} days together</p>\n    //         <p>\n    //           {currentUser.user_id === userDetails.user_id ? (\n    //             <>\n    //               Address: {userDetails.address_detail}<br />\n    //               State: {userDetails.add_id}<br />\n    //               Service: {userDetails.manager_id}\n    //             </>\n    //           ) : (\n    //             <>State: {userDetails.add_id}</>\n    //           )}\n    //         </p>\n    //       </div>\n    //       {/* work on this later\n    //         {currentUser.user_id === userDetails.user_id && (\n    //         <div className='edit'>\n    //           <Link to={'/'} state = {}>\n    //             <img src={Edit} alt='' />\n    //           </Link>\n    //           <img onClick = {handleDelete} src={Delete} alt='' />\n    //         </div>\n    //         )} */}\n    //     <div className='products'>\n    //     {userProducts.map((product_user)=>(\n    //       <div className='product_user' key={product_user.product_id}>\n    //         <div className='img'>\n    //           <img src = {product_user.picture} alt=''/>\n    //         </div>\n    //         <div className=\"content\">\n    //           <Link className = \"link\" to ={`/product/${product_user.product_id}`}>\n    //             <h1>{product_user.pname}</h1>\n    //           </Link>  \n    //           <p>{getText(product_user.description)} For {product_user.price}$</p>\n    //           <p> Status: {getText(product_user.status)}</p>\n    //         </div>\n    //       </div>\n    //       ))}\n    //     </div>\n    //   </div>\n    // </div>\n    _jsxDEV(\"div\", {\n      children: \"Test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this)\n  );\n};\n_s(User, \"MpLbVRlUMLCQsvrvGBJ06CESq0A=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = User;\nexport default User;\nvar _c;\n$RefreshReg$(_c, \"User\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Edit","Delete","Link","useParams","useNavigate","useLocation","Menu","axios","moment","AuthContext","jsxDEV","_jsxDEV","User","_s","location","user","setUser","navigate","currentUser","username","pathname","split","fetchUser","res","get","data","err","console","error","getText","html","doc","DOMParser","parseFromString","body","textContent","userDetails","userProducts","log","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/code5200/mini/client/src/pages/User.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport Edit from \"../img/edit.png\";\nimport Delete from \"../img/delete.png\";\nimport { Link, useParams, useNavigate, useLocation } from 'react-router-dom';\nimport Menu from '../components/Menu';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { AuthContext } from '../context/authContext';\n\nconst User = () => {\n\n  const location = useLocation();\n  const [user, setUser] = useState({});\n  const navigate = useNavigate();\n  const { currentUser } = useContext(AuthContext);\n  const username = location.pathname.split(\"/\")[2];\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const res = await axios.get(`http://localhost:8800/api/users/${username}`);\n        setUser(res.data);\n      } catch (err) {\n        console.error(err);\n        // Redirect or handle error\n      }\n    };\n\n    fetchUser();\n  }, [username]);\n  \n  \n  const getText = (html) =>{\n    const doc = new DOMParser().parseFromString(html, \"text/html\")\n    return doc.body.textContent\n  }\n\n  // console.log(currentUser);\n  const { userDetails, userProducts } = user;\n\n  console.log(user);\n  \n  if (!user) {\n    return <div>Loading...</div>; // or any other loading indicator\n  }\n\n  return (\n    // <div className='user_page'>\n    //   <div className=\"content\">\n    //     <div className='user_info'>\n    //         <span>NUID : {userDetails.user_id}</span>\n    //         <h1>\n    //           USER : {currentUser.user_id === userDetails.user_id ? userDetails.user_name : userDetails.nickname}\n    //         </h1>\n    //         <p>Spent {moment(userDetails.create_time).fromNow()} days together</p>\n    //         <p>\n    //           {currentUser.user_id === userDetails.user_id ? (\n    //             <>\n    //               Address: {userDetails.address_detail}<br />\n    //               State: {userDetails.add_id}<br />\n    //               Service: {userDetails.manager_id}\n    //             </>\n    //           ) : (\n    //             <>State: {userDetails.add_id}</>\n    //           )}\n    //         </p>\n    //       </div>\n\n\n    //       {/* work on this later\n    //         {currentUser.user_id === userDetails.user_id && (\n            \n    //         <div className='edit'>\n    //           <Link to={'/'} state = {}>\n    //             <img src={Edit} alt='' />\n    //           </Link>\n    //           <img onClick = {handleDelete} src={Delete} alt='' />\n    //         </div>\n    //         )} */}\n    //     <div className='products'>\n    //     {userProducts.map((product_user)=>(\n    //       <div className='product_user' key={product_user.product_id}>\n    //         <div className='img'>\n    //           <img src = {product_user.picture} alt=''/>\n              \n    //         </div>\n    //         <div className=\"content\">\n    //           <Link className = \"link\" to ={`/product/${product_user.product_id}`}>\n    //             <h1>{product_user.pname}</h1>\n    //           </Link>  \n    //           <p>{getText(product_user.description)} For {product_user.price}$</p>\n    //           <p> Status: {getText(product_user.status)}</p>\n              \n    //         </div>\n    //       </div>\n    //       ))}\n    //     </div>\n    //   </div>\n    // </div>\n    <div>Test</div>\n  )\n}\n\nexport default User"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,OAAOC,IAAI,MAAM,iBAAiB;AAClC,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,IAAI,EAAEC,SAAS,EAAEC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC5E,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,QAAQ;AAC3B,SAASC,WAAW,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEjB,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACU,IAAI,EAAEC,OAAO,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpC,MAAMkB,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEc;EAAY,CAAC,GAAGrB,UAAU,CAACY,WAAW,CAAC;EAC/C,MAAMU,QAAQ,GAAGL,QAAQ,CAACM,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAChDvB,SAAS,CAAC,MAAM;IACd,MAAMwB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAE,mCAAkCL,QAAS,EAAC,CAAC;QAC1EH,OAAO,CAACO,GAAG,CAACE,IAAI,CAAC;MACnB,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QAClB;MACF;IACF,CAAC;;IAEDJ,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAGd,MAAMU,OAAO,GAAIC,IAAI,IAAI;IACvB,MAAMC,GAAG,GAAG,IAAIC,SAAS,CAAC,CAAC,CAACC,eAAe,CAACH,IAAI,EAAE,WAAW,CAAC;IAC9D,OAAOC,GAAG,CAACG,IAAI,CAACC,WAAW;EAC7B,CAAC;;EAED;EACA,MAAM;IAAEC,WAAW;IAAEC;EAAa,CAAC,GAAGtB,IAAI;EAE1CY,OAAO,CAACW,GAAG,CAACvB,IAAI,CAAC;EAEjB,IAAI,CAACA,IAAI,EAAE;IACT,oBAAOJ,OAAA;MAAA4B,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,CAAC,CAAC;EAChC;;EAEA;IAAA;IACE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAGA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACAhC,OAAA;MAAA4B,QAAA,EAAK;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK;EAAC;AAEnB,CAAC;AAAA9B,EAAA,CA3FKD,IAAI;EAAA,QAESP,WAAW,EAEXD,WAAW;AAAA;AAAAwC,EAAA,GAJxBhC,IAAI;AA6FV,eAAeA,IAAI;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}