[{"E:\\code5200\\mini\\client\\src\\index.js":"1","E:\\code5200\\mini\\client\\src\\App.js":"2","E:\\code5200\\mini\\client\\src\\components\\Footer.jsx":"3","E:\\code5200\\mini\\client\\src\\pages\\Login.jsx":"4","E:\\code5200\\mini\\client\\src\\pages\\Register.jsx":"5","E:\\code5200\\mini\\client\\src\\pages\\Post.jsx":"6","E:\\code5200\\mini\\client\\src\\pages\\Home.jsx":"7","E:\\code5200\\mini\\client\\src\\components\\Navbar.jsx":"8","E:\\code5200\\mini\\client\\src\\components\\Menu.jsx":"9","E:\\code5200\\mini\\client\\src\\context\\authContext.js":"10","E:\\code5200\\mini\\client\\src\\pages\\Single.jsx":"11"},{"size":545,"mtime":1700016893487,"results":"12","hashOfConfig":"13"},{"size":1154,"mtime":1700096374732,"results":"14","hashOfConfig":"13"},{"size":247,"mtime":1700037575494,"results":"15","hashOfConfig":"13"},{"size":1379,"mtime":1700017330355,"results":"16","hashOfConfig":"13"},{"size":1983,"mtime":1700008336016,"results":"17","hashOfConfig":"13"},{"size":8779,"mtime":1700109160082,"results":"18","hashOfConfig":"13"},{"size":1669,"mtime":1700050786639,"results":"19","hashOfConfig":"13"},{"size":2312,"mtime":1700083636813,"results":"20","hashOfConfig":"13"},{"size":1183,"mtime":1700082103423,"results":"21","hashOfConfig":"13"},{"size":850,"mtime":1700019366464,"results":"22","hashOfConfig":"13"},{"size":2278,"mtime":1700095005102,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},"1evj80o",{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"59"},"E:\\code5200\\mini\\client\\src\\index.js",[],[],["60","61","62","63","64","65"],"E:\\code5200\\mini\\client\\src\\App.js",[],[],"E:\\code5200\\mini\\client\\src\\components\\Footer.jsx",[],[],"E:\\code5200\\mini\\client\\src\\pages\\Login.jsx",[],[],"E:\\code5200\\mini\\client\\src\\pages\\Register.jsx",[],[],"E:\\code5200\\mini\\client\\src\\pages\\Post.jsx",[],[],"E:\\code5200\\mini\\client\\src\\pages\\Home.jsx",[],[],"E:\\code5200\\mini\\client\\src\\components\\Navbar.jsx",[],[],"E:\\code5200\\mini\\client\\src\\components\\Menu.jsx",["66"],[],"E:\\code5200\\mini\\client\\src\\context\\authContext.js",[],[],"E:\\code5200\\mini\\client\\src\\pages\\Single.jsx",["67"],[],"import React, { useContext, useEffect, useState } from 'react'\r\nimport Edit from \"../img/edit.png\"\r\nimport Delete from \"../img/delete.png\"\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom'\r\nimport Menu from '../components/Menu'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\nimport { AuthContext } from '../context/authContext';\r\n\r\nconst Single = () => {\r\n\r\n  const [product, setProduct] = useState({});\r\n\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const product_id = location.pathname.split(\"/\")[2];\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      console.log(\"Fetching data for product ID:\", product_id);\r\n      try {\r\n        const res = await axios.get(`http://localhost:8800/api/products/${product_id}`);\r\n        setProduct(res.data);\r\n      } catch (err) {\r\n        console.log(\"Error fetching data:\", err);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [product_id]);\r\n \r\n  const handleDelete = async ()=>{\r\n    try {\r\n      await axios.delete(`http://localhost:8800/api/products/${product_id}`);\r\n      navigate(\"/\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  const getText = (html) =>{\r\n    const doc = new DOMParser().parseFromString(html, \"text/html\")\r\n    return doc.body.textContent\r\n  }\r\n  console.log(\"user:\",currentUser);\r\n  console.log(\"product:\",product);\r\n  return (\r\n    <div className='product'>\r\n      <div className=\"content\">\r\n        <img src={product?.picture} alt='' />\r\n        <div className='user'>\r\n          <div className=\"info\">\r\n            <span>{product.user_name}</span>\r\n            <p>Posted {moment(product.create_time).fromNow()}</p>\r\n          </div>\r\n          {currentUser.user_id === product.user_id && (\r\n            \r\n          <div className='edit'>\r\n            <Link to={'/upload?edit=2'} state = {product}>\r\n              <img src={Edit} alt='' />\r\n            </Link>\r\n            <img onClick = {handleDelete} src={Delete} alt='' />\r\n          </div>\r\n          )}\r\n        </div>\r\n        <h1>{product.pname}</h1>\r\n        {product.description}\r\n      </div>\r\n      <Menu cat = {product.prod_id}/>\r\n      {/* console.log(cat); */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Single;",["68","69","70","71","72","73"],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":2,"column":8,"nodeType":"88","messageId":"89","endLine":2,"endColumn":11},{"ruleId":"86","severity":1,"message":"90","line":42,"column":9,"nodeType":"88","messageId":"89","endLine":42,"endColumn":16},{"ruleId":"74","replacedBy":"91"},{"ruleId":"76","replacedBy":"92"},{"ruleId":"78","replacedBy":"93"},{"ruleId":"80","replacedBy":"94"},{"ruleId":"82","replacedBy":"95"},{"ruleId":"84","replacedBy":"96"},"dot-location",[],"new-parens",[],"no-mixed-operators",[],"no-new-object",["97"],"no-whitespace-before-property",[],"rest-spread-spacing",[],"no-unused-vars","'img' is defined but never used.","Identifier","unusedVar","'getText' is assigned a value but never used.",[],[],[],["97"],[],[],"no-object-constructor"]